RSpec.describe EnvGen do

  it "should not instantiate with #new" do
    expect { EnvGen.new :audio, 1, 2 }.to raise_error
  end

  it "should have correct inputs" do
    envgen = EnvGen.kr Env.adsr
    expect(envgen.rate).to   eq(:control)
    expect(envgen.inputs).to eq([ 1, 1, 0, 1, 0, 0, 3, 2, -99, 1, 0.01, 5, -4, 0.5, 0.3, 5, -4, 0, 1, 5, -4 ].collect(&:to_f))
  end
end
